const data = {
  informacoesGerais: {
    nome_jogo: "Shadow Soul",
    genero: "Ação e Terror",
    plataformas: "PC e Mobile",
    publico_alvo: "+12 (Violência e Medo)",
    versao_documento: "1.0",
    data_documento: "2025-11-19",
    sinopse: "André, um garoto de 17 anos, encontra uma escapada mágica que lhe dá a capacidade de ver e tocar fantasmas. Ele passa a usar esse poder para caçá-los e proteger as pessoas."
  },
  requisitosFuncionais: [
    {
      codigo: "RF001",
      nome: "Sistema de Movimentação",
      prioridade: "Alta",
      descricao: "O jogador deve controlar André em perspectiva 2D, interagindo com o ambiente, atacando inimigos e desviando de obstáculos.",
      detalhes: [
        "Teclas WASD ou setas para movimento (PC)",
        "Movimento via toque ou arrastar no mobile",
        "Velocidade de movimento: 3 metros por segundo",
        "Suporte para corrida: PC (Shift), Mobile (Botão \"Correr\")"
      ]
    }
  ],
  requisitosNaoFuncionais: [
    {
      codigo: "RNF001",
      nome: "Desempenho",
      prioridade: "Alta",
      descricao: "O jogo deve manter taxa de quadros estável (FPS) para garantir bom desempenho.",
      metricas: [
        "FPS mínimo: 30 em hardware mínimo",
        "FPS alvo: 60 em hardware recomendado"
      ]
    }
  ]
};

function renderInformacoesGerais() {
  const info = data.informacoesGerais;
  const container = document.getElementById("informacoes-gerais");

  const titulo = document.createElement("h2");
  titulo.textContent = "Informações Gerais";
  container.appendChild(titulo);

  const table = document.createElement("table");

  for (const key in info) {
    const tr = document.createElement("tr");
    const th = document.createElement("th");
    th.textContent = formatarChave(key);
    const td = document.createElement("td");
    td.textContent = info[key];
    tr.appendChild(th);
    tr.appendChild(td);
    table.appendChild(tr);
  }

  container.appendChild(table);
}

function renderRequisitosFuncionais() {
  const rf = data.requisitosFuncionais;
  const container = document.getElementById("requisitos-funcionais");

  const titulo = document.createElement("h2");
  titulo.textContent = "Requisitos Funcionais";
  container.appendChild(titulo);

  rf.forEach(req => {
    const sub = document.createElement("h3");
    sub.textContent = `${req.codigo} - ${req.nome}`;
    container.appendChild(sub);

    const pDesc = document.createElement("p");
    pDesc.textContent = req.descricao;
    container.appendChild(pDesc);

    const pPri = document.createElement("p");
    pPri.innerHTML = `<strong>Prioridade:</strong> ${req.prioridade}`;
    container.appendChild(pPri);

    const ul = document.createElement("ul");
    ul.classList.add("details-list");
    req.detalhes.forEach(d => {
      const li = document.createElement("li");
      li.textContent = d;
      ul.appendChild(li);
    });
    container.appendChild(ul);
  });
}

function renderRequisitosNaoFuncionais() {
  const rnf = data.requisitosNaoFuncionais;
  const container = document.getElementById("requisitos-nao-funcionais");

  const titulo = document.createElement("h2");
  titulo.textContent = "Requisitos Não Funcionais";
  container.appendChild(titulo);

  rnf.forEach(req => {
    const sub = document.createElement("h3");
    sub.textContent = `${req.codigo} - ${req.nome}`;
    container.appendChild(sub);

    const pDesc = document.createElement("p");
    pDesc.textContent = req.descricao;
    container.appendChild(pDesc);

    const pPri = document.createElement("p");
    pPri.innerHTML = `<strong>Prioridade:</strong> ${req.prioridade}`;
    container.appendChild(pPri);

    const ul = document.createElement("ul");
    ul.classList.add("details-list");
    req.metricas.forEach(m => {
      const li = document.createElement("li");
      li.textContent = m;
      ul.appendChild(li);
    });
    container.appendChild(ul);
  });
}

function formatarChave(chave) {
  return chave
    .split("_")
    .map(p => p.charAt(0).toUpperCase() + p.slice(1))
    .join(" ");
}

document.addEventListener("DOMContentLoaded", () => {
  renderInformacoesGerais();
  renderRequisitosFuncionais();
  renderRequisitosNaoFuncionais();
});
